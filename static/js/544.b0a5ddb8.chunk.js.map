{"version":3,"file":"static/js/544.b0a5ddb8.chunk.js","mappings":"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","sources":["pages/Home/Home.jsx","pages/Home/Home.styled.js","services/api.js","helpers/getGenres.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { getTrendingFilms } from 'services/api';\nimport { routes } from 'helpers/routes';\nimport { Box, Loader } from 'components/index';\n\nimport { List } from './Home.styled.js';\n\nconst HomePage = () => {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    async function getFilms() {\n      try {\n        setIsLoading(true);\n\n        const { results } = await getTrendingFilms();\n        setTrendingMovies(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getFilms();\n  }, []);\n\n  return (\n    <>\n      {error && <div>Try to reload the page</div>}\n      {isLoading && <Loader />}\n      <Box m=\"0 auto\" maxWidth={1200} mt={32}>\n        <List>\n          {trendingMovies.map(({ id, title }) => (\n            <li key={id}>\n              <Link\n                state={{ from: location }}\n                to={routes.MOVIE_DETAILS_PATH(id)}\n              >\n                <h3>{title}</h3>\n              </Link>\n            </li>\n          ))}\n        </List>\n      </Box>\n    </>\n  );\n};\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  padding: 0px ${p => p.theme.space[4]}px;\n  gap: ${p => p.theme.space[3]}px;\n\n  li {\n    transition: color ${p => p.theme.transition},\n      transform ${p => p.theme.transition};\n    &:hover,\n    &:focus {\n      color: ${p => p.theme.colors.accent};\n      transform: scale(1.01);\n    }\n  }\n`;\n","import axios from 'axios';\nimport defaultPhoto from '../img/default-photo.jpeg';\nimport { getGenres } from 'helpers/getGenres';\n\nconst API_KEY = '7075a5d5708cc9d9db094f2ee386024f';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingFilms = async () => {\n  const params = {\n    api_key: API_KEY,\n  };\n  const { data } = await axios.get('/trending/movie/week', { params });\n  const results = data.results.map(({ id, title }) => ({ id, title }));\n  return { results };\n};\n\nexport const getFilmByQuery = async q => {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: q,\n  };\n  const { data } = await axios.get('/search/movie', { params });\n  const results = data.results.map(({ id, original_title }) => ({\n    id,\n    original_title,\n  }));\n  return { results };\n};\n\nexport const getDetailedFilmInfo = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n  const { data } = await axios.get(`/movie/${movieId}`, { params });\n  const {\n    id,\n    original_title,\n    genres,\n    overview,\n    poster_path,\n    release_date,\n    vote_average,\n  } = data;\n\n  return {\n    id,\n    original_title,\n    genres: genres.length ? getGenres(genres) : \"Genres aren't given\",\n    overview,\n    poster_path: poster_path\n      ? 'https://image.tmdb.org/t/p/w300' + poster_path\n      : defaultPhoto,\n    release_date: new Date(release_date).getFullYear(),\n    vote_average: Math.round(vote_average * 10),\n  };\n};\n\nexport const getCastInfo = async movieId => {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  const { data } = await axios.get(`/movie/${movieId}/credits`, { params });\n  const array = data.cast;\n  return array;\n};\n\nexport const getReviewsInfo = async movieId => {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  const { data } = await axios.get(`/movie/${movieId}/reviews`, { params });\n\n  const array = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n\n  return array;\n};\n","export const getGenres = array => {\n  return array.map(el => el.name).join(', ');\n};\n"],"names":["useState","trendingMovies","setTrendingMovies","error","setError","isLoading","setIsLoading","location","useLocation","useEffect","getTrendingFilms","results","message","getFilms","m","maxWidth","mt","map","id","title","state","from","to","routes","List","styled","p","theme","space","transition","colors","accent","API_KEY","axios","params","api_key","data","getFilmByQuery","q","language","query","original_title","getDetailedFilmInfo","movieId","genres","overview","poster_path","release_date","vote_average","length","array","el","name","join","defaultPhoto","Date","getFullYear","Math","round","getCastInfo","cast","getReviewsInfo","author","content"],"sourceRoot":""}